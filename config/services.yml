---
services:

    _defaults:
        autoconfigure: true
        autowire: true
        public: false

    PhpTuf\ComposerStagerConsole\:
        resource: '../src/*'
        public: true
        exclude:
            - '../src/Console/Output'

    PhpTuf\ComposerStager\:
        resource: '../vendor/php-tuf/composer-stager/src/*'
        public: true
        exclude:
            - '../vendor/php-tuf/composer-stager/src/Domain/Exception'
            - '../vendor/php-tuf/composer-stager/src/Infrastructure/Value'

    PhpTuf\ComposerStager\Infrastructure\Factory\FileSyncer\FileSyncerFactory:
        arguments:
            $phpFileSyncer: '@PhpTuf\ComposerStager\Infrastructure\Service\FileSyncer\PhpFileSyncer'
            $rsyncFileSyncer: '@PhpTuf\ComposerStager\Infrastructure\Service\FileSyncer\RsyncFileSyncer'
    PhpTuf\ComposerStager\Domain\Service\FileSyncer\FileSyncerInterface:
        factory: [ '@PhpTuf\ComposerStager\Infrastructure\Factory\FileSyncer\FileSyncerFactory', 'create' ]

    Symfony\Component\Filesystem\Filesystem: ~
    Symfony\Component\Process\ExecutableFinder: ~
